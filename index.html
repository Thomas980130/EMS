<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>救護紀錄</title>
  <link rel="stylesheet" href="index.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <div class="menu-bar">
    <button class="menu-btn" data-page="basic">基本資料</button>
    <button class="menu-btn" data-page="scene">現場狀況</button>
    <button class="menu-btn" data-page="assessment">評估與處置</button>
    <button class="menu-btn" data-page="vital">生命徵象</button>
    <button class="menu-btn" data-page="sign">相關簽名</button>
  </div>
  <h1>救護紀錄</h1>
  <div class="container">
    <!-- 基本資料分頁 -->
    <div class="page" id="page-basic">
      <div class="card">
        <h2>基本資料</h2>
        <div class="row"><span class="label">姓名</span><input type="text" id="basic-name"></div>
        <div class="row"><span class="label">年齡</span>
          <select id="basic-age">
            <option value="">請選擇</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
            <option value="36">36</option>
            <option value="37">37</option>
            <option value="38">38</option>
            <option value="39">39</option>
            <option value="40">40</option>
            <option value="41">41</option>
            <option value="42">42</option>
            <option value="43">43</option>
            <option value="44">44</option>
            <option value="45">45</option>
            <option value="46">46</option>
            <option value="47">47</option>
            <option value="48">48</option>
            <option value="49">49</option>
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
            <option value="60">60</option>
            <option value="61">61</option>
            <option value="62">62</option>
            <option value="63">63</option>
            <option value="64">64</option>
            <option value="65">65</option>
            <option value="66">66</option>
            <option value="67">67</option>
            <option value="68">68</option>
            <option value="69">69</option>
            <option value="70">70</option>
            <option value="71">71</option>
            <option value="72">72</option>
            <option value="73">73</option>
            <option value="74">74</option>
            <option value="75">75</option>
            <option value="76">76</option>
            <option value="77">77</option>
            <option value="78">78</option>
            <option value="79">79</option>
            <option value="80">80</option>
            <option value="81">81</option>
            <option value="82">82</option>
            <option value="83">83</option>
            <option value="84">84</option>
            <option value="85">85</option>
            <option value="86">86</option>
            <option value="87">87</option>
            <option value="88">88</option>
            <option value="89">89</option>
            <option value="90">90</option>
            <option value="91">91</option>
            <option value="92">92</option>
            <option value="93">93</option>
            <option value="94">94</option>
            <option value="95">95</option>
            <option value="96">96</option>
            <option value="97">97</option>
            <option value="98">98</option>
            <option value="99">99</option>
            <option value="100">100</option>
            <option value="101">101</option>
            <option value="102">102</option>
            <option value="103">103</option>
            <option value="104">104</option>
            <option value="105">105</option>
            <option value="106">106</option>
            <option value="107">107</option>
            <option value="108">108</option>
            <option value="109">109</option>
            <option value="110">110</option>
          </select>
        </div>
        <div class="row"><span class="label">性別</span>
          <select id="basic-gender">
            <option value="">請選擇</option>
            <option value="男性">男性</option>
            <option value="女性">女性</option>
          </select>
        </div>
        <div class="row"><span class="label">聯絡電話</span><input type="text" id="basic-phone"></div>
        <div class="row"><span class="label">身分證</span><input type="text" id="basic-id"></div>
      </div>
    </div>
    <!-- 現場狀況分頁 -->
    <div class="page" id="page-scene" style="display:none">
      <div class="card">
        <h2>現場狀況</h2>
        <div class="row"><span class="label">地點</span><input type="text" id="scene-location"><button type="button" id="scene-location-gps-btn" style="margin-left:8px;">定位</button></div>
        <div class="row"><span class="label">狀況描述</span><input type="text" id="scene-status"></div>
        <div class="row"><span class="label">到場時間</span><input type="time" id="scene-arrival"><button type="button" id="scene-arrival-now" style="margin-left:8px;">現在</button></div>
      </div>
    </div>
    <!-- 急救處置分頁 -->
    <div class="page" id="page-treatment" style="display:none">
      <div class="card">
        <h2>急救處置</h2>
        <div class="row"><span class="label">處置項目</span><input type="text" id="treatment-item"></div>
        <div class="row"><span class="label">處置時間</span><input type="time" id="treatment-time"><button type="button" id="treatment-time-now" style="margin-left:8px;">現在</button></div>
      </div>
    </div>
    <!-- 病患相關分頁 -->
    <div class="page" id="page-patient" style="display:none">
      <div class="card">
        <h2>病患相關</h2>
        <div class="row"><span class="label">過敏史</span><input type="text" id="patient-allergy"></div>
        <div class="row"><span class="label">慢性病</span><input type="text" id="patient-chronic"></div>
      </div>
    </div>
    <!-- 生命徵象分頁 -->
    <div class="page" id="page-vital" style="display:none">
      <div class="card">
        <h2>生命徵象</h2>
        <div class="vital-signs-row">
          <label>時間</label>
          <input type="time">
          <button type="button" id="vital-time-now" style="margin-left:8px;">現在</button>
          
          <label>血壓</label>
          <input type="text" placeholder="收縮壓/舒張壓">
          
          <label>呼吸</label>
          <input type="text">
          
          <label>脈搏</label>
          <input type="text">
          
          <label>體溫</label>
          <input type="text">
          
          <label>GCS</label>
          <input type="text">
          
          <label>SpO2</label>
          <input type="text">
          
          <label>血糖</label>
          <input type="text">
          
          <label>意識</label>
          <input type="text">
        </div>
        <button id="add-vital-row">新增紀錄</button>
      </div>
    </div>
    <!-- 相關簽名分頁 -->
    <div class="page" id="page-sign" style="display:none">
      <div class="card">
        <h2>相關簽名</h2>
        <div class="row">
          <span class="label">患者簽名</span>
          <canvas id="signature-patient" width="150" height="50" class="signature-canvas"></canvas>
          <button type="button" id="clear-signature-patient" style="margin-left:10px;">清除</button>
        </div>
        <div id="modal-signature-patient" class="signature-modal">
          <div class="signature-modal-content">
            <canvas id="modal-canvas-patient" width="300" height="100"></canvas>
            <div style="text-align:right;margin-top:8px;">
              <button id="modal-signature-patient-ok">完成</button>
              <button id="modal-signature-patient-cancel">取消</button>
            </div>
          </div>
        </div>
        <div class="emt-signature-group">
          <div class="emt-signature-item">
            <div class="row" style="flex-direction:column;align-items:center;gap:6px;">
              <span class="label" style="text-align:center;width:auto;">救護員簽名1</span>
              <canvas id="signature-emt1" width="150" height="50" class="signature-canvas"></canvas>
              <button type="button" id="clear-signature-emt1" style="margin-top:6px;">清除</button>
            </div>
          </div>
          <div class="emt-signature-item">
            <div class="row" style="flex-direction:column;align-items:center;gap:6px;">
              <span class="label" style="text-align:center;width:auto;">救護員簽名2</span>
              <canvas id="signature-emt2" width="150" height="50" class="signature-canvas"></canvas>
              <button type="button" id="clear-signature-emt2" style="margin-top:6px;">清除</button>
            </div>
          </div>
          <div class="emt-signature-item">
            <div class="row" style="flex-direction:column;align-items:center;gap:6px;">
              <span class="label" style="text-align:center;width:auto;">救護員簽名3</span>
              <canvas id="signature-emt3" width="150" height="50" class="signature-canvas"></canvas>
              <button type="button" id="clear-signature-emt3" style="margin-top:6px;">清除</button>
            </div>
          </div>
        </div>
        <button id="submit-btn" style="margin-top:20px;">送出</button>
      </div>
      <div class="card" style="margin-top:20px;">
        <h2>拒絕送醫</h2>
        <div class="row">
          <span class="label">患者簽名</span>
          <canvas id="signature-patient" width="150" height="50" class="signature-canvas"></canvas>
          <button type="button" id="clear-signature-patient" style="margin-left:10px;">清除</button>
        </div>
        <p>拒絕送醫簽名</p>
      </div>
    </div>    
    <!-- 評估與處置分頁 -->
    <div class="page" id="page-assessment" style="display:none">
      <div class="card">
        <h2>評估與處置</h2>
        <div class="row">
          <span class="label">主訴</span>
          <input type="text" id="assessment-chief-complaint">
        </div>
        <div class="row">
          <span class="label">觀察到的徵象</span>
          <select id="symptoms">
            <option value="">請選擇</option>
            <option value="fever">發燒</option>
            <option value="cough">咳嗽</option>
            <option value="breathing">呼吸困難</option>
            <!-- Add more symptoms as needed -->
          </select>
        </div>
        <div class="row">
          <span class="label">呼吸道處置</span>
          <select id="airway-treatments">
            <option value="">請選擇</option>
            <option value="intubation">氣管插管</option>
            <option value="oropharyngeal">口咽管</option>
            <option value="suction">Suction</option>
            <!-- Add more airway treatments as needed -->
          </select>
        </div>
        <div class="row">
          <span class="label">循環/藥品處置</span>
          <select id="circulation-treatments">
            <option value="">請選擇</option>
            <option value="cpr">CPR</option>
            <option value="aed">AED</option>
            <option value="iv">IV</option>
            <!-- Add more circulation treatments as needed -->
          </select>
        </div>
      </div>
    </div>
  </div>
  <div style="text-align:center;margin:30px;">
    <span id="save-status" style="color:#00bcd4;margin-left:20px;"></span>
  </div>
  <div id="finish-info" style="text-align:center;color:#00bcd4;margin-bottom:20px;"></div>
  <script src="index.js"></script>
</body>
</html>